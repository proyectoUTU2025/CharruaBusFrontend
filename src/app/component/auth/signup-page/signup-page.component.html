<div class="login-card">
  <div class="header-bar"></div>
  <div class="logo-container">
    <img src="assets/charruabusIcon.png" alt="Charrua Bus" class="logo">
  </div>
  <h1 class="title">Registrarse</h1>
  <p class="subtitle">Completá tus datos para crear una cuenta</p>

  <form [formGroup]="signupForm" (ngSubmit)="onSubmit()" class="login-form">
    <div class="form-field" *ngFor="let field of [
      { label:'Nombre', control:'nombre' },
      { label:'Apellido', control:'apellido' },
      { label:'Documento', control:'documento' },
      { label:'Fecha de Nacimiento', control:'fechaNacimiento', type:'date' },
      { label:'Email', control:'email', type:'email' }
    ]">
      <label [for]="field.control">{{field.label}}</label>
      <input [id]="field.control" [type]="field.type || 'text'" [formControlName]="field.control" matInput />
    </div>

    <div class="form-field">
      <label for="tipoDocumento">Tipo de Documento</label>
      <mat-form-field appearance="fill" style="width: 100%">
        <mat-select formControlName="tipoDocumento">
          <mat-option *ngFor="let tipo of tiposDocumento" [value]="tipo">{{ tipo }}</mat-option>
        </mat-select>
      </mat-form-field>
    </div>

    <div class="form-field">
      <label for="situacionLaboral">Situación Laboral</label>
      <mat-form-field appearance="fill" style="width: 100%">
        <mat-select formControlName="situacionLaboral">
          <mat-option *ngFor="let s of situacionesLaborales" [value]="s">{{ s }}</mat-option>
        </mat-select>
      </mat-form-field>
    </div>

    <div class="form-field">
      <label for="password">Contraseña</label>
      <div class="password-field">
        <input id="password" [type]="hidePassword ? 'password' : 'text'" formControlName="password" matInput />
        <button type="button" mat-icon-button (click)="hidePassword = !hidePassword" class="visibility-toggle">
          <mat-icon>{{ hidePassword ? 'visibility_off' : 'visibility' }}</mat-icon>
        </button>
      </div>
    </div>

    <button type="submit" mat-flat-button class="sign-in-button">
      <mat-icon>person_add</mat-icon>
      Crear cuenta
    </button>

    <div *ngIf="error" class="forgot-password">
      <span style="color: red;">{{ error }}</span>
    </div>
  </form>
</div>
