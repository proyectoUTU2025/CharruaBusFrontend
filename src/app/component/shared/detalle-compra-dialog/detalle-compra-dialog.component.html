<h2 mat-dialog-title>Detalle de Compra #{{ data.compraId }}</h2>

<mat-dialog-content *ngIf="detalle$ | async as d; else loading">
    <section class="info">
        <p><strong>Fecha:</strong> {{ d.fechaCompra | date:'short' }}</p>
        <p><strong>Estado:</strong> {{ d.estado }}</p>
        <p><strong>Total:</strong> {{ d.precioActual | currency:'UYU' }}</p>
    </section>

    <h3>Pasajes</h3>
    <table>
        <thead>
            <tr>
                <th>Asiento</th>
                <th>Origen</th>
                <th>Destino</th>
                <th>Precio</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let p of d.pasajes">
                <td>{{ p.numeroAsiento }}</td>
                <td>{{ p.paradaOrigen }}</td>
                <td>{{ p.paradaDestino }}</td>
                <td>{{ p.subtotal | currency:'UYU' }}</td>
            </tr>
        </tbody>
    </table>
</mat-dialog-content>

<ng-template #loading>
    <div class="loading">Cargando detalleâ€¦</div>
</ng-template>

<mat-dialog-actions align="end">
    <button mat-button (click)="close()">Cerrar</button>
</mat-dialog-actions>