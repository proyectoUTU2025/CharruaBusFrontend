<h2 mat-dialog-title>Detalle de Pasaje</h2>

<mat-dialog-content *ngIf="pasaje$ | async as pasaje; else loadingTpl">
    <p><strong>Fecha:</strong> {{ pasaje.fecha | date:'short' }}</p>
    <p><strong>Origen:</strong> {{ pasaje.paradaOrigen }}</p>
    <p><strong>Destino:</strong> {{ pasaje.paradaDestino }}</p>
    <p><strong>Asiento:</strong> {{ pasaje.numeroAsiento }}</p>
    <p><strong>Estado:</strong> {{ pasaje.estadoPasaje }}</p>
    <p><strong>Subtotal:</strong> {{ pasaje.subtotal | currency }}</p>
</mat-dialog-content>

<ng-template #loadingTpl>
    <div class="loading-container">
        <mat-progress-spinner mode="indeterminate"></mat-progress-spinner>
    </div>
</ng-template>

<mat-dialog-actions align="end">
    <button mat-stroked-button (click)="close()">Cerrar</button>
    <button mat-flat-button color="primary" (click)="descargarPdf()" [disabled]="isDownloading">
        <ng-container *ngIf="!isDownloading; else downloadingTpl">
            <mat-icon>picture_as_pdf</mat-icon>
            Descargar PDF
        </ng-container>
    </button>
</mat-dialog-actions>

<ng-template #downloadingTpl>
    <mat-progress-spinner diameter="20" mode="indeterminate"></mat-progress-spinner>
    Descargandoâ€¦
</ng-template>