<mat-card *ngIf="bus">
    <mat-card-title>
        Detalle de Ómnibus: {{ bus.matricula }}
    </mat-card-title>
    <mat-card-content>
        <p><strong>ID:</strong> {{ bus.id }}</p>
        <p><strong>Matrícula:</strong> {{ bus.matricula }}</p>
        <p><strong>Capacidad:</strong> {{ bus.capacidad }}</p>
        <p>
            <strong>Activo:</strong>
            <span [ngClass]="bus.activo ? 'badge-active' : 'badge-inactive'" class="badge">
                {{ bus.activo ? 'Sí' : 'No' }}
            </span>
        </p>
    </mat-card-content>

    <mat-card-actions>
        <button mat-raised-button color="primary" (click)="abrirAltaViajeExpreso()">
            <mat-icon>add</mat-icon>
            Registrar viaje expreso
        </button>
        <button mat-raised-button color="accent" (click)="abrirAsignarMantenimiento()">
            <mat-icon>build</mat-icon>
            Asignar mantenimiento
        </button>
    </mat-card-actions>
</mat-card>

<div class="history-section" *ngIf="bus && bus.id">
    <h2>Historial de Movimientos (Viajes y Mantenimientos)</h2>
    <app-omnibus-history [busId]="bus.id"></app-omnibus-history>
</div>