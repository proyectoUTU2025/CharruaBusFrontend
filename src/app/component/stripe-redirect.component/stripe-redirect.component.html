<div class="redirect-container">
  <mat-card class="redirect-card" [ngClass]="{'success-state': !cargando, 'error-state': !!error}">
    <div *ngIf="cargando" class="state-container loading-container">
      <mat-spinner diameter="50"></mat-spinner>
      <h2 class="state-title">Procesando...</h2>
      <p class="state-description">Esto puede tardar unos segundos. No cierres esta ventana.</p>
    </div>

    <div *ngIf="!cargando && !error" class="state-container success-container">
      <div class="icon-wrapper success">
        <mat-icon>check_circle</mat-icon>
      </div>
      <h2 class="state-title">¡Compra confirmada con éxito!</h2>
      <p class="state-description">Preparando los detalles de tu compra...</p>
      <div class="progress-wrapper">
        <mat-progress-bar mode="indeterminate" color="primary"></mat-progress-bar>
        <p class="redirect-message">Serás redirigido en unos segundos...</p>
      </div>
    </div>
    
    <div *ngIf="error" class="state-container error-container">
      <div class="icon-wrapper error">
        <mat-icon>cancel</mat-icon>
      </div>
      <h2 class="state-title">{{ mensaje }}</h2>
      <p class="state-description">Algo no salió como esperábamos.</p>
      <div class="progress-wrapper">
        <mat-progress-bar mode="indeterminate" color="warn"></mat-progress-bar>
        <p class="redirect-message">Serás redirigido en unos segundos...</p>
      </div>
    </div>
  </mat-card>
</div>
